---
title: 模擬不良網路環境方法
date: 2020-04-26 01:03:47
tags: [linux,tc]
categories: Linux
---

之前有跟別的廠商藉接機器
但是後來覺得網路順斷，機器不會自動連線
一直在想有什麼可以模擬這種網路狀況
機器還可不可以運作
最近有爬到一些文章

**最後嘗試，我這種情境還是沒辦法模擬出當時狀況**
**所以這篇就單純紀錄**
因為最近動物機載 BT ，偶爾會發生連不到動物機狀態
嚴重是完全連不到，輕微拔掉網路線就會正常一下，過一會就 ping 不到
我朋友估計是樹梅派問題，重開機就會正常...
log 也沒有看到哪裡出問題，不知道公司狀況也是不是這一種?
連線方法可以參考(下面內容):[Linux在Wifi使用pppoe連線後，重開機不能連線上網 | 程式狂想筆記](https://malagege.github.io/blog/2019/01/27/Linux%E5%9C%A8Wifi%E4%BD%BF%E7%94%A8pppoe%E9%80%A3%E7%B7%9A%E5%BE%8C%EF%BC%8C%E9%87%8D%E9%96%8B%E6%A9%9F%E4%B8%8D%E8%83%BD%E9%80%A3%E7%B7%9A%E4%B8%8A%E7%B6%B2/)

<!--more-->

## tc

[iptables 限速 - 哈希](https://www.haxi.cc/archives/iptables-%E9%99%90%E9%80%9F.html)
[Linux模拟复杂网络环境下的传输（netem和tc） - 哈希](https://www.haxi.cc/archives/Linux%E6%A8%A1%E6%8B%9F%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E4%BC%A0%E8%BE%93-netem%E5%92%8Ctc.html)

[Linux Traffic Control (tc) 研究 // Yuanchieh's Blog](https://yuanchieh.page/posts/2019-04-05_linux-traffic-control/){% asset_link web1.png 備份圖 %}

## tc 查看 list

```
tc qdisc show
tc class show dev eth0
tc filter show dev eth0
```

[linux - tc / iproute2, how to list the configuration - Super User](https://superuser.com/questions/251032/tc-iproute2-how-to-list-the-configuration)

## comcast

[使用 tc netem 模拟网络异常 | Cizixs Write Here](https://cizixs.com/2017/10/23/tc-netem-for-terrible-network/)
[tylertreat/comcast: Simulating shitty network connections so you can build better systems.](https://github.com/tylertreat/comcast)

## pyshaper

> pyshaper是一個帶有gui的限速工具。


## 連結紀錄

跟我想像的不太一樣，有空再補

* [iptables 限速 - 哈希](https://www.haxi.cc/archives/iptables-%E9%99%90%E9%80%9F.html)
* [Linux模拟复杂网络环境下的传输（netem和tc） - 哈希](https://www.haxi.cc/archives/Linux%E6%A8%A1%E6%8B%9F%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E4%BC%A0%E8%BE%93-netem%E5%92%8Ctc.html)
* [使用 tc netem 模拟网络异常 | Cizixs Write Here](https://cizixs.com/2017/10/23/tc-netem-for-terrible-network/)
* [tylertreat/comcast: Simulating shitty network connections so you can build better systems.](https://github.com/tylertreat/comcast)
* [linux的traffic control@小鸟技术笔记](https://www.lijiaocn.com/%E6%8A%80%E5%B7%A7/2017/08/10/linux-net-traffic-control.html#trickle)
* [利用Dummynet模拟恶劣网络环境_运维_baidu_zhongce的博客-CSDN博客](https://blog.csdn.net/baidu_zhongce/article/details/46874583)
* [模拟恶劣网络环境常用的几种解决方案 - 狂师 - 博客园](https://www.cnblogs.com/jinjiangongzuoshi/p/5272787.html)
* [pyshaper - your easy dynamic traffic-shaper](http://freenet.mcnabhosting.com/python/pyshaper/)
* [如何模拟弱网测试 - 尚码园](https://www.shangmayuan.com/a/0fd3247055c54298b214d92c.html)
* [Linux模拟复杂网络环境下的传输（netem和tc） - 哈希](http://www.haxi.cc/archives/Linux%E6%A8%A1%E6%8B%9F%E5%A4%8D%E6%9D%82%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E4%BC%A0%E8%BE%93-netem%E5%92%8Ctc.html)
* [linux下使用iptables和tc限制流量笔记 | Chronos](https://blog.plotcup.com/2012/08/24/linux-xia-shi-yong-iptables-he-tc-xian-zhi-liu-liang-bi-ji/)
* [Linux Traffic Control (tc) 研究 // Yuanchieh's Blog](https://yuanchieh.page/posts/2019-04-05_linux-traffic-control/)