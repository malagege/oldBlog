---
layout: post
title: 'laradock架設筆記'
date: 2017-11-18 17:26
comments: true
categories: Laravel
tags: [Laravel,PHP,docker]
---
試試用Docker來記記laravel筆記

<!--more-->


1. 建置laravel專案
composer 建立
```sh
composer global require "laravel/installer"
```
```sh
laravel new blog
```
或
```sh
composer create-project --prefer-dist laravel/laravel blog
```
沒有安裝composer 可以直接 git clone 下來
```sh
git clone http://github.com/laravel/laravel
```
2. 建立laradock在laravel目錄下面
```sh
git submodule add https://github.com/Laradock/laradock.git
```
3. 在laradocker目錄下複製範例example-env，命名為.env
```
cp env-example .env
```
4. 執行docker
```sh
docker-compose up -d nginx mysql
```

5. 設置laravel目錄，env設定 (PS:這邊的env跟docker env不一樣，不要搞錯了)
```
docker-compose exec workspace bash
```
```
$ root@workspace:/var/www# composer install
$ root@workspace:/var/www# cp .env.example .env
$ root@workspace:/var/www# php artisan key:generate
$ root@workspace:/var/www# exit
$root@server:~/laravel/laradock# cd ..
$root@server:~/laravel# sudo chmod -R 777 storage bootstrap/cache
```

6. 設定laravel裡的.env DB設定
```
DB_DATABASE=default
DB_USERNAME=default
DB_PASSWORD=secret
```
請參照你的laradocker DB帳號、密碼去做設定
```
MYSQL_DATABASE=default
MYSQL_USER=default
MYSQL_PASSWORD=secret
```
已經測試過在play with docker 可以跑了



參考來源
https://laravel.tw/docs/5.3/installation
http://laradock.io/guides/#set-up-your-laravel-project
不專業網管筆記: [ 練習] 使用Laradock 建立Laravel 開發環境 (舊版說明)
t301000.blogspot.com/2017/01/laradock-laravel.html