---
title: "從MySQL裡面直接(select)讀取出文件設計書表格格式"
date: 2019-01-19 22:39:31
tags: [mysql, docs]
categories: 寫程式一些事
---

最近公司創建 MySQL 需要寫文件
但是通常我們開工單都是在開發環境建立 MySQL
手動建立 Table 產生 SQL 出來
最後還需要產生文件
所以又多一倍功...做那個
但有時改 DB 地方，文件就會忘記改...
今天我手動寫出 sql
讓我不用太花時間方法 XD

<!--more-->

在 MySQL 可以下

```sql
SELECT '' as NO,
       if(POSITION("PRI" IN COLUMN_KEY ),'PK','') as '標記',
       COLUMN_COMMENT as  '名稱',
       COLUMN_NAME '欄位',
       COLUMN_TYPE as  '型態',
       ifnull(COLUMN_DEFAULT,'') as  '預設值',
       if(IS_NULLABLE='YES','O','') as 'NULL',
       if(EXTRA='auto_increment','O','') as  'A_I',
       TABLE_NAME,
       COLUMN_KEY
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_SCHEMA = 'ooo'  AND TABLE_NAME = 'xxx'
```

不過在`INFORMATION_SCHEMA.COLUMNS`沒有設定 index
所以通常正式環境有很多 table 還是不要亂用比較好
可以直接複製出來貼到 WORD

INFORMATION_SCHEMA.COLUMNS 相關欄位資訊
參考:[mysql 的 TABLE_SCHEMA 的 sql 和 information_schema 表, MySQL 管理一些基礎 SQL 語句, Changes in MySQL 5.7.2 - t6 - 博客園](https://www.cnblogs.com/timxgb/p/7862929.html)

```
SCHEMATA表：提供了關於數據庫的信息。
TABLES表：給出了關於數據庫中的表的信息。
COLUMNS表：給出了表中的列信息。
STATISTICS表：給出了關於表索引的信息。
USER_PRIVILEGES表：給出了關於全程權限的信息。該信息源自mysql.user授權表。
SCHEMA_PRIVILEGES表：給出了關於方案（數據庫）權限的信息。該信息來自mysql.db授權表。
TABLE_PRIVILEGES表：給出了關於表權限的信息。該信息源自mysql.tables_priv授權表。
COLUMN_PRIVILEGES表：給出了關於列權限的信息。該信息源自mysql.columns_priv授權表。
CHARACTER_SETS表：提供了關於可用字符集的信息。
COLLATIONS表：提供了關於各字符集的對照信息。
COLLATION_CHARACTER_SET_APPLICABILITY表：指明了可用於校對的字符集。
TABLE_CONSTRAINTS表：描述了存在約束的表。
KEY_COLUMN_USAGE表：描述了具有約束的鍵列。
ROUTINES表：提供了關於存儲子程序（存儲程序和函數）的信息。此時，ROUTINES表不包含自定義函數（UDF）。
VIEWS表：給出了關於數據庫中的視圖的信息。
TRIGGERS表：提供了關於觸發程序的信息。
```

相關資料:

- [MySQL :: MySQL 5.7 Reference Manual :: 8.2.3 Optimizing INFORMATION_SCHEMA Queries](https://dev.mysql.com/doc/refman/5.7/en/information-schema-optimization.html)
- [mysql 的 TABLE_SCHEMA 的 sql 和 information_schema 表, MySQL 管理一些基礎 SQL 語句, Changes in MySQL 5.7.2 - t6 - 博客園](https://www.cnblogs.com/timxgb/p/7862929.html)
- [sql - How do I find out which tables have no indexes in MySQL - Stack Overflow](https://stackoverflow.com/questions/7233703/how-do-i-find-out-which-tables-have-no-indexes-in-mysql)
