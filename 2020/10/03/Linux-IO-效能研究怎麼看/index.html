<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">


<link rel="stylesheet" href="/blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"malagege.github.io","root":"/blog/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="最近除了看 CPU 使用率過高之前 Raspberry Pi 使用 NextCloud 的時候速度非常慢一直以為是 CPU 關係，但後來發現不是官網友提到是 IO 效能關係">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux IO 效能研究怎麼看">
<meta property="og:url" content="https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/index.html">
<meta property="og:site_name" content="程式狂想筆記">
<meta property="og:description" content="最近除了看 CPU 使用率過高之前 Raspberry Pi 使用 NextCloud 的時候速度非常慢一直以為是 CPU 關係，但後來發現不是官網友提到是 IO 效能關係">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/1.png">
<meta property="og:image" content="https://upload-images.jianshu.io/upload_images/16898515-1f65ff3be1502b87.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/585">
<meta property="article:published_time" content="2020-10-02T17:16:29.000Z">
<meta property="article:modified_time" content="2021-06-27T08:05:07.898Z">
<meta property="article:author" content="malagege">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="io">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/1.png">

<link rel="canonical" href="https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-TW'
  };
</script>

  <title>Linux IO 效能研究怎麼看 | 程式狂想筆記</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-105195903-2"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-105195903-2');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">程式狂想筆記</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">一個攻城師奮鬥史</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/blog/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/blog/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>標籤</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/blog/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分類</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
        <li class="menu-item menu-item-links">

    <a href="/blog/links/" rel="section"><i class="fa fa-link fa-fw"></i>好站連結</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

<!-- head AdSense -->
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: 'ca-pub-1439458814178865',
    enable_page_level_ads: true
  });
</script>


</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="malagege">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="程式狂想筆記">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Linux IO 效能研究怎麼看
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-10-03 01:16:29" itemprop="dateCreated datePublished" datetime="2020-10-03T01:16:29+08:00">2020-10-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-06-27 16:05:07" itemprop="dateModified" datetime="2021-06-27T16:05:07+08:00">2021-06-27</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/blog/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/10/03/Linux-IO-效能研究怎麼看/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
    <div class="post-meta-adsense">
        <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- typeart_post_body_end -->
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-1439458814178865"
             data-ad-slot="4661282975"
             data-ad-format="fluid"
             data-ad-layout-key="-gw-3+1f-3d+2z"
             data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>


        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-1439458814178865"
     data-ad-slot="2236653478"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
        <p>最近除了看 CPU 使用率過高<br>之前 Raspberry Pi 使用 NextCloud 的時候速度非常慢<br>一直以為是 CPU 關係，但後來發現不是<br>官網友提到是 IO 效能關係</p>
<a id="more"></a>
<p>一直以為 IO 效能跟硬碟有關係<br>但後來研究一翻，參考網路上一些文章<br>後來 CPU, RAM, Network … 等等都有關係</p>
<h2 id="IO-效能怎麼看"><a href="#IO-效能怎麼看" class="headerlink" title="IO 效能怎麼看?"></a>IO 效能怎麼看?</h2><p><a href="https://blog.csdn.net/wenniuwuren/article/details/50558183" target="_blank" rel="noopener">Linux 性能监控 —— 磁盘 I/O_wenniuwuren-CSDN博客</a></p>
<img src="/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/1.png" class="" title="top">
<blockquote>
<p>二. 如何衡量磁盤 I/O 存在瓶頸<br>磁盤 I/O 是否存在瓶頸取決於當前機器 CPU 的總核數（總核數計算移步我的另一篇博文: Linux 性能監控 —- Load Average）。 公式： X(IO) = 1/（cpu 總核數） 用來衡量磁盤 I/O 情況， 以上圖的機器為例子， 這台機器 2 CPU 12 核 也就是總核心數為 2*12 = 24， X(IO) = 0.04166666 = 4.17%。<br>如果上圖指標長時間大於 4.17%， 那麼我們的網站響應可能就會變慢了。  </p>
</blockquote>
<p>簡單來說就是 top<br>CPU 那一行 13 wa 那一行<br> X(IO) = 1/（cpu 總核數）<br>我樹梅派沒有使用百分比，不過他這邊應該沒放</p>
<h2 id="IO-測試方法"><a href="#IO-測試方法" class="headerlink" title="IO 測試方法"></a>IO 測試方法</h2><p><a href="https://blog.toright.com/posts/5051/linux-disk-io-%E6%95%88%E8%83%BD%E6%B8%AC%E8%A9%A6.html/amp" target="_blank" rel="noopener">blog.toright.com/posts/5051/linux-disk-io-效能測試.html/amp</a></p>
<p>使用最簡單方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd <span class="keyword">if</span>=/dev/zero of=/tmp/bench bs=1M count=1024 &amp;&amp; rm /tmp/bench</span><br></pre></td></tr></table></figure>
<p>在樹梅派使用 SD 做 wa有到 0.25 左右，不過改在 USB 上面<br>wa到 0.5 上下，CPU 雖然沒有吃很高<br>但是這時候很明顯感覺 pietty 操作跟重新開市窗操作連線會變慢<br>看來程式處理速度跟這個數字也有關</p>
<h2 id="安裝-iostat"><a href="#安裝-iostat" class="headerlink" title="安裝 iostat"></a>安裝 iostat</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install sysstat</span><br></pre></td></tr></table></figure>
<ul>
<li><p><a href="https://www.opencli.com/linux/fix-iostat-command-not-found" target="_blank" rel="noopener">解決 iostat command not found</a></p>
</li>
<li><p><a href="http://www.51testing.com/html/48/202848-242043.html" target="_blank" rel="noopener">linux wa%過高，iostat查看io狀況 - 測試天堂 - 51Testing軟件測試網 51Testing軟件測試網-軟件測試人的精神家園</a></p>
</li>
</ul>
<h2 id="wa-高不一定是出在硬碟-io"><a href="#wa-高不一定是出在硬碟-io" class="headerlink" title="wa 高不一定是出在硬碟 io"></a>wa 高不一定是出在硬碟 io</h2><ul>
<li><a href="https://www.lijyyh.com/2012/01/linux.html" target="_blank" rel="noopener">傲笑紅塵路: 監控Linux 系統效能狀況</a> <a href="/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/web1.png" title="備份圖">備份圖</a></li>
</ul>
<p>可能是網路等等其他<br>這邊有查到 sar 可以查詢 CPU, RAM, Disk I/O, Network </p>
<p>網路查詢方法<br><a href="https://blog.csdn.net/wangjianno2/article/details/39256163" target="_blank" rel="noopener">使用sar工具进行cpu/mem/io/network等性能分析_@<em>囚徒-2018</em>的家园-CSDN博客</a><br><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/sar.html" target="_blank" rel="noopener">12. sar 找出系统瓶颈的利器 — Linux Tools Quick Tutorial</a><br><a href="https://testerhome.com/topics/20606" target="_blank" rel="noopener">记一次服务端 IO 瓶颈问题定位 · TesterHome</a></p>
<p><a href="http://technote.aven-network.com/826/using-sar-log-system-resource-status" target="_blank" rel="noopener">使用 sar 記錄系統資源使用狀態 | TechNote</a></p>
<p><a href="https://matthung0807.blogspot.com/2019/06/linux-htop.html?m=0" target="_blank" rel="noopener">菜鳥工程師 肉豬: Linux htop 系統程序監控工具簡介</a></p>
<p><a href="https://linuxstory.org/generate-cpu-memory-io-report-sar-command/zh-tw/" target="_blank" rel="noopener">7 個實例教你使用 sar 命令生成CPU、內存和輸入輸出埠的報告 | Linux Story</a><br><a href="https://wayne65.ap.ngrok.io/wp/%E5%A6%82%E4%BD%95%E5%9C%A8raspberry-pi-%E7%94%A8usb%E7%A2%9F%E9%96%8B%E6%A9%9F/" target="_blank" rel="noopener">如何在Raspberry Pi 用USB碟開機 – Wayne’s Garden</a><br><a href="https://learnku.com/articles/39516" target="_blank" rel="noopener">案例：系统的 CPU 使用率很高，但为啥却找不到高 CPU 的应用？ | Laravel China 社区</a></p>
<h2 id="20201004-查-Raspberry-pi-的-top-CPU-異常飆高"><a href="#20201004-查-Raspberry-pi-的-top-CPU-異常飆高" class="headerlink" title="20201004 查 Raspberry pi 的 top CPU 異常飆高"></a>20201004 查 Raspberry pi 的 top CPU 異常飆高</h2><h3 id="PI-環境簡單介紹"><a href="#PI-環境簡單介紹" class="headerlink" title="PI 環境簡單介紹"></a>PI 環境簡單介紹</h3><p>之前有使用 rclone 掛載 Google 雲端硬碟<br>但是最近使用 ftp(vsftpd)下載完檔案 發現 wa CPU 標高<br>(中途有遇到我的D朝下載超過容量關係，其他下載失敗)<br>swap 也吃了 80MB(總共 100 MB)<br>swap 應該可能是因為我 rclone 掛載模式關係<br>wa 沒有降下來原因我覺得要找一下</p>
<h2 id="用上面指令查詢經過-可跳過這篇"><a href="#用上面指令查詢經過-可跳過這篇" class="headerlink" title="用上面指令查詢經過(可跳過這篇)"></a>用上面指令查詢經過(可跳過這篇)</h2><p>這邊有使用 SAR 查看<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pi@PI203:~ $ sar -r 2 5</span><br><span class="line">Linux 4.19.118-v7+ (PI203)      2020年10月03日  _armv7l_        (4 CPU)</span><br><span class="line"></span><br><span class="line">03時32分26秒 kbmemfree   kbavail kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br><span class="line">03時32分28秒     89612    642628    238560     25.16     14860    522124    777284     73.98    185960    542316         0</span><br><span class="line">03時32分30秒     89612    642628    238560     25.16     14860    522124    777284     73.98    186020    542316         0</span><br><span class="line">03時32分32秒     89604    642620    238568     25.16     14860    522124    777284     73.98    186020    542316         0</span><br><span class="line">03時32分34秒     89620    642636    238544     25.16     14860    522128    779252     74.17    186252    542320         0</span><br><span class="line">03時32分36秒     89604    642620    238564     25.16     14860    522124    779252     74.17    186108    542316         0</span><br><span class="line">平均時間：     89610    642626    238559     25.16     14860    522125    778071     74.05    186072    542317         0</span><br><span class="line">pi@PI203:~ $ sar -r 2 5</span><br><span class="line">Linux 4.19.118-v7+ (PI203)      2020年10月03日  _armv7l_        (4 CPU)</span><br><span class="line"></span><br><span class="line">03時32分41秒 kbmemfree   kbavail kbmemused  %memused kbbuffers  kbcached  kbcommit   %commit  kbactive   kbinact   kbdirty</span><br><span class="line">03時32分43秒     89856    642872    238312     25.13     14860    522124    777832     74.03    185968    542316         0</span><br><span class="line">03時32分45秒     89856    642872    238312     25.13     14860    522124    777832     74.03    185968    542316         0</span><br><span class="line">03時32分47秒     89864    642880    238304     25.13     14860    522124    777832     74.03    185968    542316         0</span><br><span class="line">03時32分49秒     89864    642880    238304     25.13     14860    522124    777832     74.03    185968    542316         0</span><br><span class="line">03時32分51秒     89864    642880    238304     25.13     14860    522124    777832     74.03    185968    542316         0</span><br><span class="line">平均時間：     89861    642877    238307     25.13     14860    522124    777832     74.03    185968    542316         0</span><br></pre></td></tr></table></figure></p>
<p>這邊 commit 怪怪的，網路查好像 commit 需要大於 100%</p>
<blockquote>
<p>%commit<br>當前需要的內存/RAM+swap，要保證大於100%，因為內核通常都overcommit內存。</p>
</blockquote>
<ul>
<li><a href="https://rorschachchan.github.io/2018/01/03/%E4%BB%8Evmstat%E5%91%BD%E4%BB%A4%E9%87%8C%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%93%B6%E9%A2%88/" target="_blank" rel="noopener">从vmstat命令里看服务器瓶颈 | Chris Chan’s BLOG</a></li>
<li><a href="https://blog.csdn.net/risen16/article/details/53355417" target="_blank" rel="noopener">vmstat 的用法和判别系统瓶颈_RisenWang 的博客-CSDN博客</a></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">pi@PI203:~ $ vmstat 1 20</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 1  1  85568  89920  14888 559472    0    0     2     1    3    2  1  1 98  1  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  178  266  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  175  272  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  164  250  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  202  304  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  183  283  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  180  267  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  161  244  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  166  253  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  177  275  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  190  295  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  188  289  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  179  270  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  177  275  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  175  266  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  164  254  0  0 75 25  0</span><br><span class="line"> 1  1  85568  89896  14888 559472    0    0     0     0  187  289  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  169  255  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  181  283  0  0 75 25  0</span><br><span class="line"> 0  1  85568  89896  14888 559472    0    0     0     0  171  248  0  0 75 25  0</span><br></pre></td></tr></table></figure>
<p>這邊wa 這麼高，沒有降下來…這邊 top 應該跟 wa 是一樣的東西</p>
<h2 id="vsftp-程式-uninterruptible-sleep-狀態"><a href="#vsftp-程式-uninterruptible-sleep-狀態" class="headerlink" title="vsftp 程式 uninterruptible sleep 狀態"></a>vsftp 程式 uninterruptible sleep 狀態</h2><p>參照這個shell 找到 vsftp 有問題<a href="https://www.503error.com/2016/iowait-%E8%BF%87%E9%AB%98%E9%97%AE%E9%A2%98%E7%9A%84%E6%9F%A5%E6%89%BE%E5%8F%8A%E8%A7%A3%E5%86%B3linux/1035.html" target="_blank" rel="noopener">iowait 过高问题的查找及解决linux | 张志明的个人博客</a><br>裡面有提到用 iotop 但我看數字都正常</p>
<h3 id="查看-uninterruptible-sleep-程式"><a href="#查看-uninterruptible-sleep-程式" class="headerlink" title="查看 uninterruptible sleep 程式"></a>查看 uninterruptible sleep 程式</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> # for x in &#96;seq 1 1 10&#96;; do ps -eo state,pid,cmd | grep &quot;^D&quot;; echo &quot;----&quot;; sleep 5; done</span><br><span class="line">D 18634 &#x2F;usr&#x2F;sbin&#x2F;vsftpd &#x2F;etc&#x2F;vsftpd.conf</span><br><span class="line">----</span><br><span class="line">D 18634 &#x2F;usr&#x2F;sbin&#x2F;vsftpd &#x2F;etc&#x2F;vsftpd.conf</span><br><span class="line">----</span><br></pre></td></tr></table></figure>
<p>這邊除了這個方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">watch -n 1 &quot;(ps aux | awk &#39;\$8 ~ &#x2F;D&#x2F;  &#123; print \$0 &#125;&#39;)&quot;</span><br></pre></td></tr></table></figure><br><a href="https://serverfault.com/questions/61510/linux-how-can-i-see-whats-waiting-for-disk-io" target="_blank" rel="noopener">Linux - How can I see what’s waiting for disk IO - Server Fault</a></p>
<p><a href="https://serverfault.com/questions/616570/find-process-causing-io-wait-time" target="_blank" rel="noopener">linux - Find process causing IO wait time - Server Fault</a><br>iotop 不知道能不能看到</p>
<h3 id="lsof-p-18634"><a href="#lsof-p-18634" class="headerlink" title="lsof -p 18634"></a>lsof -p 18634</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">COMMAND   PID USER   FD      TYPE     DEVICE SIZE&#x2F;OFF    NODE NAME</span><br><span class="line">vsftpd  18634   pi  cwd   unknown                             &#x2F;mnt&#x2F;gdrive&#x2F;ACG&#x2F;TV&#x2F;202007&#x2F;沒落要塞 DECA-DENCE (stat: Permission denied)</span><br><span class="line">vsftpd  18634   pi  rtd       DIR      179,2     4096       2 &#x2F;</span><br><span class="line">vsftpd  18634   pi  txt       REG      179,2   113240   24973 &#x2F;usr&#x2F;sbin&#x2F;vsftpd</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    42632    1674 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libnss_files-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    26600    1697 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;librt-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    17956    1637 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libcap-ng.so.0.0.0</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2   130416    1693 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libpthread-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2     9768    1644 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libdl-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2   116032    1580 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libaudit.so.1.0.0</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    71576    1671 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libnsl-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2  1296004    1636 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libc-2.28.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    17872    1638 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libcap.so.2.25</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2  2118048   15238 &#x2F;usr&#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libcrypto.so.1.1</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2   454924   15239 &#x2F;usr&#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libssl.so.1.1</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    50896    2417 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libpam.so.0.84.2</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    30508    1715 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libwrap.so.0.7.6</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2    17708   14650 &#x2F;usr&#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;libarmmem-v7l.so</span><br><span class="line">vsftpd  18634   pi  mem       REG      179,2   138604    1559 &#x2F;lib&#x2F;arm-linux-gnueabihf&#x2F;ld-2.28.so</span><br><span class="line">vsftpd  18634   pi    0u     sock        0,8      0t0 2903508 protocol: TCPv6</span><br><span class="line">vsftpd  18634   pi    1u     sock        0,8      0t0 2903508 protocol: TCPv6</span><br><span class="line">vsftpd  18634   pi    2u     sock        0,8      0t0 2903508 protocol: TCPv6</span><br><span class="line">vsftpd  18634   pi    3w      REG      179,2    37351    1427 &#x2F;var&#x2F;log&#x2F;vsftpd.log.1</span><br><span class="line">vsftpd  18634   pi    4r  unknown                             &#x2F;mnt&#x2F;gdrive&#x2F;ACG&#x2F;TV&#x2F;202007&#x2F;沒落要塞 DECA-DENCE&#x2F;[Airota][Deca-Dence][05][1080p AVC AAC][CHT].mp4 (stat: Permission denied)</span><br><span class="line">vsftpd  18634   pi    5u     unix 0x97115dd6      0t0 2898890 type&#x3D;STREAM</span><br><span class="line">vsftpd  18634   pi    6u     sock        0,8      0t0 2907724 protocol: TCPv6</span><br></pre></td></tr></table></figure>
<p>這邊查了一下</p>
<blockquote>
<p>產生D狀態的原因出現uninterruptible sleep狀態的進程一般是因為在等待IO，例如磁盤IO、網絡IO等。在發出的IO請求得不到相應之後，進程一般就會轉入uninterruptible sleep狀態，例如若NFS服務端關閉時，如果沒有事先amount相關目錄。在客戶端執行df的話就會掛住整個會話，再用ps axf查看的話會發現df進程狀態位已經變成D。</p>
</blockquote>
<p><a href="https://www.cnblogs.com/xiaotengyi/p/7644336.html" target="_blank" rel="noopener">Linux 進程的 Uninterruptible sleep(D) 狀態 - Still water run deep - 開發者的網上家園</a></p>
<p>vmstat 可以看到 第二個 b 確實我顯示有 1(可參照上面)</p>
<blockquote>
<p>由於只有運行狀態的進程才可以接受信號，所以處於uninterruptible sleep的進程，是無法用kill命令殺掉的，即使是加9或15的信號。</p>
</blockquote>
<p>但要該怎麼處理呢?</p>
<blockquote>
<p>正是因為得不到IO的響應，進程才進入了uninterruptible sleep狀態，所以要想使進程從uninterruptible sleep狀態恢復，就得使進程等待的IO恢復，比如如果是因為從遠程掛載的NFS卷不可訪問導致進程進入uninterruptible sleep狀態的，那麼可以通過恢復該NFS卷的連接來使進程的IO請求得到滿足，除此之外，要想幹掉處在D狀態進程就只能重啟整個Linux系統（D進程並不能通過kill 和kill -9 殺掉） 。<br>作者：不穿格子衫的程序猿<br>链接：<a href="https://www.jianshu.com/p/8f29d6d70fd6" target="_blank" rel="noopener">https://www.jianshu.com/p/8f29d6d70fd6</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
</blockquote>
<p><a href="https://www.jianshu.com/p/8f29d6d70fd6" target="_blank" rel="noopener">進程查看命令 - 簡書</a></p>
<h3 id="亂打亂撞解決"><a href="#亂打亂撞解決" class="headerlink" title="亂打亂撞解決"></a>亂打亂撞解決</h3><p>網路上說無法kill強制刪掉<br>這邊我決定 kill 掉看看<br>一般 kill 無法<br>但 kill -9 就刪掉了…<br>這邊就不繼續探討了</p>
<p>top wa 就正常了…</p>
<p>簡單回顧重點</p>
<p>vmstat 第二個 b 可以先確認 uninterruptible sleep程式<br>再尋找 uninterruptible sleep 程式做處理</p>
<h2 id="wa-和-id"><a href="#wa-和-id" class="headerlink" title="wa 和 id"></a>wa 和 id</h2><blockquote>
<p>當前的CPU運行情況：</p>
<p>us：非nice用戶進程佔用CPU的比率<br>sy：內核、內核進程佔用CPU的比率；<br>ni：如果一些用戶進程修改過優先級，這裡顯示這些進程佔用CPU時間的比率；<br>id：CPU空閒比率，如果系統緩慢而這個值很高，說明系統慢的原因不是CPU負載高；<br>wa：CPU等待執行I/O操作的時間比率，該指標可以用來排查磁盤I/O的問題，通常結合wa和id判斷<br>hi：CPU處理硬件終端所佔時間的比率；<br>si：CPU處理軟件終端所佔時間的比率；<br>st：流逝的時間，虛擬機中的其他任務所佔CPU時間的比率；</p>
<p>用戶進程佔比高，wa低，說明系統緩慢的原因在於進程佔用大量CPU，通常還會伴有教低的id，說明CPU空轉時間很少；<br>wa低，id高，可以排除CPU資源瓶頸的可能。<br>wa高，說明I/O佔用了大量的CPU時間，需要檢查交換空間的使用，交換空間位於磁盤上，性能遠低於內存，當內存耗盡開始使用交換空間時，將會給性能帶來嚴重影響，所以對於性能要求較高的服務器，一般建議關閉交換空間。另一方面，如果內存充足，但wa很高，說明需要檢查哪個進程佔用了大量的I/O資源。</p>
</blockquote>
<ul>
<li><a href="https://www.cnblogs.com/security-darren/p/4700384.html" target="_blank" rel="noopener">Linux系统排查2——CPU负载篇 - 王智愚 - 开发者的网上家园</a></li>
<li><a href="https://zhqqqy.github.io/2018/08/23/Linux%E4%B8%8B%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/" target="_blank" rel="noopener">Linux下性能分析工具 | zhqqqy</a></li>
</ul>
<p>CPU使用率低但負載高<br><img src="https://upload-images.jianshu.io/upload_images/16898515-1f65ff3be1502b87.png?imageMogr2/auto-orient/strip|imageView2/2/w/585" alt=""></p>
<p>load average 是對 CPU 負載的評估，其值越高，說明其任務隊列越長，處於等待執行的任務越多。但CPU卻在摸魚（idls高），這就說明有可能有很多假死進程，可能寫的程序有等待（I/O）或者睡眠。</p>
<p>作者：Carson_dotnet<br>链接：<a href="https://www.jianshu.com/p/27d8c33e03cf" target="_blank" rel="noopener">https://www.jianshu.com/p/27d8c33e03cf</a><br>来源：简书<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。<br><a href="https://www.jianshu.com/p/27d8c33e03cf" target="_blank" rel="noopener">Linux CPU過載判斷以及分析 - 簡書</a></p>

    </div>

    
    
    


<div class="post-end-adsense">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- typeart_post_body_end -->
    <ins class="adsbygoogle"
         style="display:block; text-align:center;"
         data-ad-client="ca-pub-1439458814178865"
         data-ad-slot="2236653478"
         data-ad-layout="in-article"
         data-ad-format="fluid"
         data-full-width-responsive="true"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</div>



      <footer class="post-footer">
          <div class="post-tags">
              <a href="/blog/tags/linux/" rel="tag"># linux</a>
              <a href="/blog/tags/io/" rel="tag"># io</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/blog/2020/09/29/JBoss-%E4%BD%88%E7%BD%B2%E7%A8%8B%E5%BC%8F%E5%92%8C-cli-%E6%93%8D%E4%BD%9C%E5%B0%8F%E8%A8%98/" rel="prev" title="JBoss 佈署程式和 cli 操作小記">
      <i class="fa fa-chevron-left"></i> JBoss 佈署程式和 cli 操作小記
    </a></div>
      <div class="post-nav-item">
    <a href="/blog/2020/10/12/Raspberry-Pi-%E4%BD%BF%E7%94%A8-Seafile-%E5%88%9D%E9%AB%94%E9%A9%97/" rel="next" title="Raspberry Pi 使用 Seafile 初體驗">
      Raspberry Pi 使用 Seafile 初體驗 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#IO-效能怎麼看"><span class="nav-number">1.</span> <span class="nav-text">IO 效能怎麼看?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IO-測試方法"><span class="nav-number">2.</span> <span class="nav-text">IO 測試方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安裝-iostat"><span class="nav-number">3.</span> <span class="nav-text">安裝 iostat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wa-高不一定是出在硬碟-io"><span class="nav-number">4.</span> <span class="nav-text">wa 高不一定是出在硬碟 io</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20201004-查-Raspberry-pi-的-top-CPU-異常飆高"><span class="nav-number">5.</span> <span class="nav-text">20201004 查 Raspberry pi 的 top CPU 異常飆高</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PI-環境簡單介紹"><span class="nav-number">5.1.</span> <span class="nav-text">PI 環境簡單介紹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#用上面指令查詢經過-可跳過這篇"><span class="nav-number">6.</span> <span class="nav-text">用上面指令查詢經過(可跳過這篇)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#vsftp-程式-uninterruptible-sleep-狀態"><span class="nav-number">7.</span> <span class="nav-text">vsftp 程式 uninterruptible sleep 狀態</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#查看-uninterruptible-sleep-程式"><span class="nav-number">7.1.</span> <span class="nav-text">查看 uninterruptible sleep 程式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#lsof-p-18634"><span class="nav-number">7.2.</span> <span class="nav-text">lsof -p 18634</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#亂打亂撞解決"><span class="nav-number">7.3.</span> <span class="nav-text">亂打亂撞解決</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wa-和-id"><span class="nav-number">8.</span> <span class="nav-text">wa 和 id</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">malagege</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives/">
        
          <span class="site-state-item-count">653</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/blog/categories/">
          
        <span class="site-state-item-count">89</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/blog/tags/">
          
        <span class="site-state-item-count">522</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>






      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">malagege</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/blog/lib/anime.min.js"></script>
  <script src="/blog/lib/velocity/velocity.min.js"></script>
  <script src="/blog/lib/velocity/velocity.ui.min.js"></script>

<script src="/blog/js/utils.js"></script>

<script src="/blog/js/motion.js"></script>


<script src="/blog/js/schemes/muse.js"></script>


<script src="/blog/js/next-boot.js"></script>




  




  
<script src="/blog/js/local-search.js"></script>











<script>
if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}
</script>


  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://malagege-blog.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "https://malagege.github.io/blog/2020/10/03/Linux-IO-%E6%95%88%E8%83%BD%E7%A0%94%E7%A9%B6%E6%80%8E%E9%BA%BC%E7%9C%8B/";
    this.page.identifier = "2020/10/03/Linux-IO-效能研究怎麼看/";
    this.page.title = "Linux IO 效能研究怎麼看";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://malagege-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>

</body>
</html>
